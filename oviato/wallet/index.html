<!DOCTYPE html>
<html>
    
    <head>
        
        <!-- META -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <link rel="icon" type="image/x-icon" href="img/avatar.png">
        <link rel='dns-prefetch' href='//s.w.org' />
        <title>OVIATO</title>
        
        <!-- STYLES -->
        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="fontawesome/css/all.min.css">
        <link rel="stylesheet" href="css/oviato-variables.css?v=0.0.1">
        <link rel="stylesheet" href="css/oviato-core.css?v=0.0.1">
        
    </head>
    <body class="loading" data-text="LOADING" id="main-body">
        
        <div class="section batter-mustache" style="background: transparent;">
            <div class="container" style="text-align: left">
                
                {{#wallet}}
                
                <div class="row">
                    
                    <div class="col-md-4"></div>
                    <div class="col-md-4">
                    
                        <div class="card">
                    
                            <nav class="toolbar">
                                <ul class="nav nav-tabs" id="main-tabs" role="tablist">
                                    <li class="nav-item" role="presentation"  style="width: auto">
                                        <button class="nav-link" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard" type="button" role="tab" aria-controls="dashboard" aria-selected="true">
                                            OVIATO
                                        </button>
                                    </li>
                                    <li class="nav-item" role="presentation"  style="width: auto">
                                        <button class="nav-link" id="messages-tab" data-bs-toggle="tab" data-bs-target="#messages" type="button" role="tab" aria-controls="messages" aria-selected="false" style="width: auto; display: inline-block">
                                            MEMOS
                                        </button>
                                        <button class="nav-link" id="tokens-tab" data-bs-toggle="tab" data-bs-target="#tokens" type="button" role="tab" aria-controls="tokens" aria-selected="false" style="width: auto; display: inline-block">
                                            TOKENS
                                        </button>
                                        <button class="nav-link" id="db-tab" data-bs-toggle="tab" data-bs-target="#db" type="button" role="tab" aria-controls="db" aria-selected="false" style="width: auto; display: inline-block">
                                            DB
                                        </button>
                                    </li>
                                </ul>
                            </nav>

                            <div class="card-body">

                                <p>&nbsp;</p>

                                <div class="tab-content" id="main-tabsContent">
                                    <div class="tab-pane fade show active" id="dashboard" role="tabpanel" aria-labelledby="dashboard-tab">

                                        <div class="row">
                                            <div class="col-sm-12">
                                                <alert class="alert alert-block alert-info">
                                                    <strong class="big">
                                                        {{#balances.int}} 
                                                            {{balances.str}}
                                                        {{/balances.int}} 
                                                        {{^balances.int}} 
                                                            0.00000000
                                                        {{/balances.int}} 
                                                        <small>BTC</small>
                                                    </strong>
                                                    <br />
                                                    <small style="display: block; line-height: 40px;">
                                                        {{#user}}
                                                        <code>{{wallet.settings.network}}</code> | <code>{{wallet.account.short}}</code>
                                                        <a href="#" class="btn btn-ordit-copy" data-content="{{address}}" style="margin: -8px 0 0">
                                                            <svg width="11" height="13" viewBox="0 0 11 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M1.02326 0C0.458127 0 0 0.495345 0 1.10638V9.40426C0 10.0153 0.458127 10.5106 1.02326 10.5106H8.18605C8.46861 10.5106 8.69767 10.263 8.69767 9.95745V1.10638C8.69767 0.495345 8.23955 0 7.67442 0H1.02326ZM11 3.31915C11 2.86087 10.6564 2.48936 10.2326 2.48936C9.80871 2.48936 9.46512 2.86087 9.46512 3.31915V9.95745C9.46512 10.7212 8.89246 11.3404 8.18605 11.3404H3.5814C3.15755 11.3404 2.81395 11.7119 2.81395 12.1702C2.81395 12.6285 3.15755 13 3.5814 13H8.18605C9.74015 13 11 11.6378 11 9.95745V3.31915Z" fill="#687287"/>
                                                            </svg>
                                                        </a>
                                                        {{/user}}
                                                    </small>

                                                    <hr>

                                                    <small>
                                                        <small class="btn-group btn-block">

                                                            <a href="#" id="primary-send-button" class="btn btn-ordit-sender" data-bs-toggle="modal" data-bs-target="#ordit-send-modal">
                                                                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <circle cx="20" cy="20" r="20" fill="#D9D9D9"/>
                                                                <path d="M16.2265 16.361L21.574 16.4052L13.9284 24.0508C13.3981 24.5811 13.3981 25.465 13.9284 25.9953C14.4588 26.5257 15.3427 26.5257 15.873 25.9953L23.5186 18.3497L23.5628 23.6972C23.5628 24.4927 24.1815 25.1115 24.977 25.1115C25.7725 25.1115 26.3912 24.4927 26.3912 23.6972L26.347 14.991C26.347 14.6374 26.1702 14.2839 25.9051 14.0187C25.6399 13.7535 25.3305 13.621 24.9328 13.5768L16.2265 13.5326C15.431 13.5326 14.8123 14.1513 14.8123 14.9468C14.8123 15.7423 15.431 16.361 16.2265 16.361Z" fill="#1C2033"/>
                                                                </svg>
                                                                <br />
                                                                <small>SEND</small>
                                                            </a>

                                                            <a href="#" class="btn btn-ordit-qr" data-title="Address" data-content="{{user.address}}">
                                                                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                                <circle cx="20" cy="20" r="20" fill="#D9D9D9"/>
                                                                <path d="M25.1042 19.9758L21.2917 23.7258V12.9133C21.2917 12.1633 20.6667 11.5383 19.9167 11.5383C19.1667 11.5383 18.5417 12.1633 18.5417 12.9133V23.7258L14.7292 19.9758C14.1667 19.4133 13.2917 19.4133 12.7292 19.9758C12.1667 20.5383 12.1667 21.4133 12.7292 21.9758L18.9167 28.1008C19.1667 28.3508 19.5417 28.4758 19.9167 28.4758C20.2917 28.4758 20.6042 28.3508 20.9167 28.1008L27.1042 21.9758C27.6667 21.4133 27.6667 20.5383 27.1042 19.9758C26.5417 19.4133 25.6667 19.4133 25.1042 19.9758Z" fill="#1C2033"/>
                                                                </svg>
                                                                <br />
                                                                <small>RECEIVE</small>
                                                            </a>

                                                        </small>
                                                    </small>
                                                </alert>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-6">
                                                <alert class="alert alert-block alert-info">
                                                    <small>
                                                        MEMOS
                                                    </small>
                                                    <hr>
                                                    <h3 class="highlight">
                                                        {{#wallet.balances.counts.memos}}
                                                            {{wallet.balances.counts.memos}}
                                                        {{/wallet.balances.counts.memos}}
                                                        {{^wallet.balances.counts.memos}}
                                                            N/A
                                                        {{/wallet.balances.counts.memos}}
                                                    </h3>
                                                </alert>
                                            </div>
                                            <div class="col-6">
                                                <alert class="alert alert-block alert-info">
                                                    <small>
                                                        TOKENS
                                                    </small>
                                                    <hr>
                                                    <h3 class="highlight">
                                                        {{#wallet.balances.tokens}}
                                                            1
                                                        {{/wallet.balances.tokens}}
                                                        {{^wallet.balances.tokens}}
                                                            N/A
                                                        {{/wallet.balances.tokens}}

                                                    </h3>
                                                </alert>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="tab-pane fade" id="messages" role="tabpanel" aria-labelledby="messages-tab">

                                        {{#wallet.balances.counts.memos}}
                                            <alert class="alert alert-block alert-info">
                                                <div class="row">
                                                    <div class="col-6" style="text-align: left;">
                                                        COUNT: <b>{{wallet.balances.counts.memos}}</b>
                                                    </div>
                                                    <div class="col-6">
                                                        <a href="#" class="btn btn-sm btn-block btn-outline-light btn-ordit-sender" data-bs-toggle="modal" data-bs-target="#ordit-send-modal">
                                                            SEND MESSAGE
                                                        </a>
                                                    </div>
                                                </div>
                                            </alert>
                                        {{/wallet.balances.counts.memos}}
                                        {{^wallet.balances.counts.memos}}
                                            <alert class="alert alert-block alert-info">
                                                <strong>NO MESSAGES</strong>
                                                <br />
                                                <small>send messages to any address</small>
                                            </alert>
                                        {{/wallet.balances.counts.memos}}

                                        {{#wallet.balances.memos}}
                                            <div class="card">
                                                <div class="card-header">
                                                    <small>
                                                        {{ago}} 
                                                        <span style="float:right;">
                                                            {{id}} <i style="color: transparent">|</i> 
                                                            <a href="#" class="btn btn-sm btn-outline-light btn-ordit-copy" data-content="{{txid}}">
                                                                COPY
                                                            </a>
                                                        </span>
                                                    </small>
                                                </div>
                                                <div class="card-body">
                                                    {{{md}}}
                                                </div>
                                            </div>
                                            <hr>
                                        {{/wallet.balances.memos}}
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <a href="#" class="btn btn-sm btn-block btn-outline-light btn-ordit-sender" data-bs-toggle="modal" data-bs-target="#ordit-send-modal">
                                                    SEND MESSAGE
                                                </a>
                                            </div>
                                        </div>

                                        <hr>

                                    </div>

                                    <div class="tab-pane fade" id="tokens" role="tabpanel" aria-labelledby="tokens-tab">

                                        {{#wallet.balances.tokens}}
                                            <alert class="alert alert-block alert-info">
                                                <div class="row">
                                                    <div class="col-6" style="text-align: left;">
                                                        COUNT: <b>1</b>
                                                    </div>
                                                    <div class="col-6">
                                                        <a href="#" class="btn btn-sm btn-block btn-outline-light" data-bs-toggle="modal" data-bs-target="#ordit-soon-modal">
                                                            ADD TOKENS
                                                        </a>
                                                    </div>
                                                </div>
                                            </alert>
                                        {{/wallet.balances.tokens}}
                                        {{^wallet.balances.tokens}}
                                            <alert class="alert alert-block alert-info">
                                                <strong>NO TOKENS</strong>
                                                <br />
                                                <small>add token supplies below</small>
                                            </alert>    
                                        {{/wallet.balances.tokens}}

                                        {{#wallet.balances.tokens}}

                                        <div class="row" style="padding-left: 15px; padding-right: 15px">

                                            <table class="table table-dark table-striped">
                                                <thead>
                                                    <tr>
                                                        <th>Type</th>
                                                        <th>Tick</th>
                                                        <th>Total</th>
                                                        <th>Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody>

                                                    <tr>
                                                        <td>
                                                            <small>
                                                                <pre>SPL</pre>
                                                            </small>
                                                        </td>
                                                        <td>
                                                            <small>
                                                                <pre>USDC</pre>
                                                            </small>
                                                        </td>
                                                        <td>
                                                            <small>
                                                                <pre>{{wallet.balances.token}}</pre>
                                                            </small>
                                                        </td>
                                                        <td>
                                                            <small>

                                                                <a href="#" class="btn btn-secondary btn-sm btn-ordit-sender" data-type="usdc" data-bs-toggle="modal" data-bs-target="#ordit-send-modal">
                                                                    <small>SEND</small>
                                                                </a>
                                                            </small>
                                                        </td>
                                                    </tr>

                                                </tbody>
                                            </table>

                                        </div>

                                        {{/wallet.balances.tokens}}

                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-12">
                                                <a href="#" class="btn btn-sm btn-block btn-outline-light" data-bs-toggle="modal" data-bs-target="#ordit-soon-modal">
                                                    ADD TOKEN SUPPLY
                                                </a>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="tab-pane fade" id="db" role="tabpanel" aria-labelledby="db-tab">

                                        <alert class="alert alert-block">
                                            <small>WebAuthN Public Key: <pre>{{user.pk}}</pre></small>
                                            <hr>
                                            <div class="row">
                                                <div class="col-sm-3"></div>
                                                <div class="col-sm-6">
                                                    <div class="qr-holder" data-content="{{user.pk}}"></div>
                                                </div>
                                                <div class="col-sm-3"></div>
                                            </div>
                                        </alert>
                                        <hr>
                                        <div class="row">
                                            <div class="col-sm-6">
                                                <a href="#" class="btn btn-block btn-outline-light btn-ordit-copy" data-content="{{user.pk}}">
                                                    <small>COPY KEY</small>
                                                </a>
                                            </div>
                                            <div class="col-sm-6">
                                                <a href="#" class="btn btn-block btn-outline-light btn-ordit-reset-wallet">
                                                    <small>RESET DEVICE</small>
                                                </a>
                                            </div>
                                        </div>
                                        <br />
                                        <a href="#" class="btn btn-block btn-outline-light btn-ordit-new-keys">
                                            <small>GENERATE BACKUP SHARDS</small>
                                        </a>

                                    </div>

                                </div>
                            </div>
                        </div>
                        
                    </div>
                    <div class="col-md-4"></div>
                    
                </div>
                
                {{/wallet}}
                {{^wallet}}
                
                {{#db.pending}}
                
                {{{form}}}
                
                {{/db.pending}}
                {{^db.pending}}
                
                <div class="row mt-5 mb-5">
                    <div class="col-md-5"></div>
                    <div class="col-md-2">
                        <img class="img img-block mt-5 mb-5" src="img/logo-tall.png" />
                    </div>
                    <div class="col-md-5"></div>
                </div>
                
                <div class="row mt-5 mb-5">
                    
                    <div class="col-lg-3"></div>
                    <div class="col-lg-6">
                
                        <div class="card">
                            <div class="card-header">

                                <ul class="nav nav-tabs setup-tabs" id="main-tabs" role="tablist">
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link active state-tabs" id="setup-tab" data-bs-toggle="tab" data-bs-target="#setup" type="button" role="tab" aria-controls="setup" aria-selected="true">LOGIN</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link state-tabs" id="password-tab" data-bs-toggle="tab" data-bs-target="#password" type="button" role="tab" aria-controls="password" aria-selected="false">REGISTER</button>
                                    </li>
                                    <li class="nav-item" role="presentation">
                                        <button class="nav-link state-tabs" id="recover-tab" data-bs-toggle="tab" data-bs-target="#recover" type="button" role="tab" aria-controls="recover" aria-selected="false">RECOVER</button>
                                    </li>
                                </ul>

                            </div>
                            <div class="card-body">

                                <div class="tab-content state-tabs" id="main-tabsContent">
                                    <div class="tab-pane fade show active" id="setup" role="tabpanel" aria-labelledby="setup-tab">
                                        
                                        <alert class="alert alert-block alert-info mb-4">
                                            <small>
                                                <b>Login using your Ovi.Cat</b>
                                            </small>
                                        </alert>

                                        {{{html.forms.login}}}

                                    </div>
                                    <div class="tab-pane fade" id="password" role="tabpanel" aria-labelledby="password-tab">

                                        <alert class="alert alert-block alert-info">
                                            <small>
                                                <b>CREATE NEW WEBAUTHN CREDENTIALS</b>
                                                <br />
                                                <small>DNS USERNAMES ARE OPTIONAL</small>
                                            </small>
                                        </alert>
                                        <hr>
                                        {{{html.forms.register}}}

                                    </div>
                                    <div class="tab-pane fade" id="recover" role="tabpanel" aria-labelledby="recover-tab">

                                        <alert class="alert alert-block alert-info">
                                            <small>
                                                <b>RECOVER ACCOUNTS FROM ANOTHER DEVICE</b>
                                            </small>
                                        </alert>

                                        {{{html.forms.recover}}}

                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3"></div>
                </div>
                
                {{/db.pending}}
                
                {{/wallet}}
                
            </div>
        </div>
        
        <div class="modal-wrapper batter-mustache">
            
            <div class="modal fade" tabindex="-1" id="default-modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Modal title</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>Unknown error</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal fade" tabindex="-1" id="ordit-send-modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Send</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            {{{html.forms.send}}}
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal fade" tabindex="-1" id="ordit-soon-modal">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Coming Soon</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            This is just a prototype built for the <a href="https://www.colosseum.org/renaissance" target="_blank">RENAISSANCE</a>.
                        </div>
                    </div>
                </div>
            </div>
            
        </div><!-- modal mustache wrapper -->
        
    </body>
    
    <!-- UX DEPENDENCIES -->
    <script src="js/bootstrap.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/mustache.js"></script>
    <script src="js/marked.js"></script>
    <script src="js/qrcode.js"></script>
    <script src="js/clipboard.js"></script>
    
    <!-- CRYPTO DEPENDENCIES -->
    <script src="js/chacha20.js"></script>
    <script src="js/ecc.js"></script>
    <script src="js/buffer.js"></script>
    <script src="js/bip32.js"></script>
    <script src="js/bip39.js"></script>
    <script src="js/bitcoin-tap.js"></script>
    <script src="js/secrets.js"></script>
    
    <!-- CORTEX ? -->
    <script src="js/ago.js"></script>
    <script src="js/bignumber.js"></script>
    
    <script src="js/config.js"></script>
    <script src="js/cortex-utxo.js"></script>
    <script src="js/cortex-sdk.js"></script>
    
    <script src="js/oviato.js"></script>
    <script src="js/oviato-wallet.js"></script>
    <script src="js/oviato-loader.js"></script>
    
</html>